<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DLAF: /home/runner/work/DLA-Future/DLA-Future/include/dlaf/multiplication/general.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DLAF
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_415b543d06dcd728a2539f6ad76147ea.html">dlaf</a></li><li class="navelem"><a class="el" href="dir_7ae97227e9eb5b35d41d3b1187ac7a59.html">multiplication</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">general.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;blas.hh&gt;</code><br />
<code>#include &lt;dlaf/common/assert.h&gt;</code><br />
<code>#include &lt;<a class="el" href="pipeline_8h_source.html">dlaf/common/pipeline.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="communicator__grid_8h_source.html">dlaf/communication/communicator_grid.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="distribution_8h_source.html">dlaf/matrix/distribution.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="index_8h_source.html">dlaf/matrix/index.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="matrix_8h_source.html">dlaf/matrix/matrix.h</a>&gt;</code><br />
<code>#include &lt;dlaf/multiplication/general/api.h&gt;</code><br />
<code>#include &lt;<a class="el" href="util__matrix_8h_source.html">dlaf/util_matrix.h</a>&gt;</code><br />
</div>
<p><a href="multiplication_2general_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a177b6617b7f042d3e9d316a6233261bb"><td class="memTemplParams" colspan="2">template&lt;Backend B, Device D, class T &gt; </td></tr>
<tr class="memitem:a177b6617b7f042d3e9d316a6233261bb"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="multiplication_2general_8h.html#a177b6617b7f042d3e9d316a6233261bb">dlaf::multiplication::internal::generalSubMatrix</a> (const SizeType a, const SizeType b, const blas::Op opA, const blas::Op opB, const T alpha, Matrix&lt; const T, D &gt; &amp;mat_a, Matrix&lt; const T, D &gt; &amp;mat_b, const T beta, Matrix&lt; T, D &gt; &amp;mat_c)</td></tr>
<tr class="separator:a177b6617b7f042d3e9d316a6233261bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af41fafb5c5852615a5c47b0f4986b56b"><td class="memTemplParams" colspan="2">template&lt;Backend B, Device D, class T &gt; </td></tr>
<tr class="memitem:af41fafb5c5852615a5c47b0f4986b56b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="multiplication_2general_8h.html#af41fafb5c5852615a5c47b0f4986b56b">dlaf::multiplication::internal::generalSubMatrix</a> ([[maybe_unused]] comm::CommunicatorGrid grid, common::Pipeline&lt; comm::Communicator &gt; &amp;row_task_chain, common::Pipeline&lt; comm::Communicator &gt; &amp;col_task_chain, const SizeType a, const SizeType b, const T alpha, Matrix&lt; const T, D &gt; &amp;mat_a, Matrix&lt; const T, D &gt; &amp;mat_b, const T beta, Matrix&lt; T, D &gt; &amp;mat_c)</td></tr>
<tr class="separator:af41fafb5c5852615a5c47b0f4986b56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d09d7084585e0aebd34dd93e548f5f"><td class="memTemplParams" colspan="2"><a id="a60d09d7084585e0aebd34dd93e548f5f"></a>
template&lt;Backend B, Device D, class T &gt; </td></tr>
<tr class="memitem:a60d09d7084585e0aebd34dd93e548f5f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>dlaf::multiplication::internal::generalSubMatrix</b> (comm::CommunicatorGrid grid, const SizeType a, const SizeType b, const T alpha, Matrix&lt; const T, D &gt; &amp;mat_a, Matrix&lt; const T, D &gt; &amp;mat_b, const T beta, Matrix&lt; T, D &gt; &amp;mat_c)</td></tr>
<tr class="separator:a60d09d7084585e0aebd34dd93e548f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af41fafb5c5852615a5c47b0f4986b56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af41fafb5c5852615a5c47b0f4986b56b">&#9670;&nbsp;</a></span>generalSubMatrix() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;Backend B, Device D, class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void dlaf::multiplication::internal::generalSubMatrix </td>
          <td>(</td>
          <td class="paramtype">[[maybe_unused] ] <a class="el" href="classdlaf_1_1comm_1_1_communicator_grid.html">comm::CommunicatorGrid</a>&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdlaf_1_1common_1_1_pipeline.html">common::Pipeline</a>&lt; <a class="el" href="classdlaf_1_1comm_1_1_communicator.html">comm::Communicator</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>row_task_chain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdlaf_1_1common_1_1_pipeline.html">common::Pipeline</a>&lt; <a class="el" href="classdlaf_1_1comm_1_1_communicator.html">comm::Communicator</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>col_task_chain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SizeType&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SizeType&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Matrix&lt; const T, D &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Matrix&lt; const T, D &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T&#160;</td>
          <td class="paramname"><em>beta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Matrix&lt; T, D &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat_c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>General sub-matrix distributed multiplication, computing C[a:b][a:b] = alpha * A[a:b][a:b] * B[a:b][a:b] + beta * C[a:b][a:b] where [a:b] is the range of tiles starting from tile index <code>a</code> to tile index <code>b</code> (excluded)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mat_a</td><td>contains the input matrix A. Only tiles whose both row and col tile coords are in the closed range [a,b] are accessed in read-only mode (elements are not modified) </td></tr>
    <tr><td class="paramname">mat_b</td><td>contains the input matrix B. Only tiles whose both row and col tile coords are in the closed range [a,b] are accessed in read-only mode (elements are not modified) </td></tr>
    <tr><td class="paramname">mat_c</td><td>On entry it contains the input matrix C. On exit matrix tiles in the range will be overwritten with the result, while others are left untouched. Only tiles whose both row and col tile coords are in the closed range [a,b] are accessed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>mat_a, mat_b and mat_c are distributed in the same way, </dd>
<dd>
mat_a, mat_b and mat_c have the same square block size, </dd>
<dd>
mat_a, mat_b and mat_c have the same size, </dd>
<dd>
mat_a, mat_b and mat_c have equal tile and block sizes, </dd>
<dd>
a &lt;= b &lt;= mat_a.nrTiles().rows() </dd></dl>

</div>
</div>
<a id="a177b6617b7f042d3e9d316a6233261bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177b6617b7f042d3e9d316a6233261bb">&#9670;&nbsp;</a></span>generalSubMatrix() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;Backend B, Device D, class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void dlaf::multiplication::internal::generalSubMatrix </td>
          <td>(</td>
          <td class="paramtype">const SizeType&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SizeType&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const blas::Op&#160;</td>
          <td class="paramname"><em>opA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const blas::Op&#160;</td>
          <td class="paramname"><em>opB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Matrix&lt; const T, D &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Matrix&lt; const T, D &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T&#160;</td>
          <td class="paramname"><em>beta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Matrix&lt; T, D &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat_c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>General sub-matrix multiplication implementation on local memory, computing C[a:b][a:b] = alpha * opA(A[a:b][a:b]) * opB(B[a:b][a:b]) + beta * C[a:b][a:b] where [a:b] is the range of tiles starting from tile index <code>a</code> to tile index <code>b</code> (excluded)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opA</td><td>specifies the form of opA(A) to be used in the matrix multiplication: <em>NoTrans</em>, <em>Trans</em>, <em>ConjTrans</em>, </td></tr>
    <tr><td class="paramname">opB</td><td>specifies the form of opB(B) to be used in the matrix multiplication: <em>NoTrans</em>, <em>Trans</em>, <em>ConjTrans</em>, </td></tr>
    <tr><td class="paramname">mat_a</td><td>contains the input matrix A. Only tiles whose both row and col tile coords are in the closed range [a,b] are accessed in read-only mode (elements are not modified) </td></tr>
    <tr><td class="paramname">mat_b</td><td>contains the input matrix B. Only tiles whose both row and col tile coords are in the closed range [a,b] are accessed in read-only mode (elements are not modified) </td></tr>
    <tr><td class="paramname">mat_c</td><td>On entry it contains the input matrix C. On exit matrix tiles in the range will be overwritten with the result, while others are left untouched. Only tiles whose both row and col tile coords are in the closed range [a,b] are accessed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>mat_a, mat_b and mat_c have the same square block size, </dd>
<dd>
mat_a, mat_b and mat_c have the same size, </dd>
<dd>
mat_a, mat_b and mat_c have equal tile and block sizes, </dd>
<dd>
mat_a, mat_b and mat_c are not distributed, </dd>
<dd>
a &lt;= b &lt;= mat_a.nrTiles().rows() </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
